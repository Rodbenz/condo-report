"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{3564:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r=t(7568),s=t(1799),o=t(9396),i=t(828),c=t(655),a=t(5893),l=t(1953),u=t(9072),d=t(9630),x=t(612),h=t(4870),p=t(5084),Z=t(562),j=t(9211),f=t(7294),_=t(6388),S=t.n(_),D=t(9354),O=t(2665),g=t(1523),E=t(3147),T=t(2019),m=t.n(T),v=t(7484),C=t.n(v),R=t(2359),A=t(7572),P=t(4597),I=t(2761),b=t(3592),w=t(6829),y={marginLeft:10,marginRight:10,borderRadius:"6px",boxShadow:"4px 5px 18px rgba(0, 0, 0, 0.25)",mt:"3%",maxwidth:"1200px"},N={marginLeft:60,marginRight:60,borderRadius:"6px",boxShadow:"4px 5px 18px rgba(0, 0, 0, 0.25)",mt:"3%",maxwidth:"1200px"},M={bgcolor:"#006E61",padding:"1%",color:"white",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"};function L(){var n,e=(0,i.Z)(f.useState([]),2),t=e[0],Z=e[1],_=(0,i.Z)(f.useState([]),2),O=_[0],g=_[1],T=(0,i.Z)(f.useState(null),2),v=T[0],L=T[1],U=(0,i.Z)(f.useState(null),2),k=U[0],B=U[1],z=(0,i.Z)(f.useState(null),2),W=z[0],H=z[1],G=(0,i.Z)(f.useState(null),2),F=G[0],X=G[1],q=(0,i.Z)(f.useState([]),2),J=q[0],K=q[1],Q=(0,i.Z)(f.useState(!1),2),$=Q[0],nn=Q[1],ne=(0,i.Z)(f.useState(!1),2),nt=ne[0],nr=ne[1],ns=(0,i.Z)(f.useState(C()("2014-08-18T21:11:54")),2);ns[0],ns[1];var no,ni,nc=(n=(0,r.Z)(function(){var n,e,t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,fetch("".concat("http://192.168.41.123:8094","/MAS/province"))];case 1:return[4,n.sent().json()];case 2:return[4,g(n.sent())];case 3:return n.sent(),[3,5];case 4:return t=n.sent(),console.log(t),[3,5];case 5:return[2]}})}),function(){return n.apply(this,arguments)}),na=function(n,e){console.log(e),L(e),nn(!1)},nl=function(n){B(n),nr(!1)},nu=function(n){H(n),nr(!1)},nd=(no=(0,r.Z)(function(n){var e,t,r,s,o,i;return(0,c.__generator)(this,function(r){switch(r.label){case 0:e="".concat("http://192.168.41.123:8093","/condo/condoExportByProvinceId"),r.label=1;case 1:return r.trys.push([1,4,,5]),t=function(n){var e=s[n];e.STATUS_VAL="","4"==e.ORDER_STATUS&&(e.STATUS_VAL="รอลงนาม"),"2"==e.ORDER_STATUS&&(e.STATUS_VAL="อยู่ระห่วางลงนาม"),"1"==e.ORDER_STATUS&&(e.STATUS_VAL="ลงนามเรียบร้อยแล้ว");var t=(0,a.jsx)(Y,{handleDownLoad:function(){return nf(e)},data:e}),r=(0,a.jsx)(V,{condo_s_id:function(){return np(e.CONDO_S_ID)}});e.action=t,e.DETAIL=r,o.push(e)},[4,S().post(e,n)];case 2:for(var c in s=r.sent().data,console.log(s,"sel_condoExportByProvinceId"),o=[],s)t(c);return[4,Z(o)];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),console.log(i),[3,5];case 5:return[2]}})}),function(n){return no.apply(this,arguments)}),nx=function(){var n={};if(null!=v)n.PROVINCE_ID=v.PROVINCE_ID;else{n.PROVINCE_ID=null,nn(!0);return}nd(n)},nh=function(n){console.log(n,"handleOnSelect"),K(n)},np=function(n){X(n)},nZ=function(){X(null)},nj=function(){if(null==k)return nr(!0),!1;n_()},nf=function(n){if(console.log(n),null!=n){var e="http://reportassessprice.treasury.go.th/"+(n.EXPORT_ADDRESS+n.EXPORT_NAME).replace(/\\/g,"/");console.log(e),window.open(e)}},n_=(ni=(0,r.Z)(function(){var n,e,t,r,s,o,i,a,l;return(0,c.__generator)(this,function(i){switch(i.label){case 0:for(e in n=[],J)n.push(e);t=0,i.label=1;case 1:if(!(t<n.length))return[3,6];r=n[t],s={CHANGWAT_CODE:v.PROVINCE_ID,BRANCH_CODE:J[r].BRANCH,PERIODS_ID:"7",CONDO_S_ID:J[r].CONDO_S_ID,REGIST_NO:J[r].REGIST_NO,CONDO_NAME:J[r].CONDO_NAME,ORDER_TYPE:"1",ORDER_STATUS:"4",CREATE_BY:"1111111111",PUBLIC_DATE:C()(k).format("YYYY-MM-DD")},i.label=2;case 2:return i.trys.push([2,4,,5]),o="".concat("http://192.168.41.123:8093","/condo/insOrderVal"),[4,S().post(o,s)];case 3:return a=i.sent().data,console.log(a,"req_insOrderVal"),nd(),[3,5];case 4:return l=i.sent(),console.log(l),[3,5];case 5:return t++,[3,1];case 6:return[2]}})}),function(){return ni.apply(this,arguments)});return f.useEffect(function(){nc()},[]),(0,a.jsxs)("div",{children:[F&&(0,a.jsx)(P.default,{condoSID:F,open:null!==F,onclose:nZ}),(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)(u.ZP,{container:!0,children:[(0,a.jsxs)(u.ZP,{item:!0,xs:12,sx:y,children:[(0,a.jsx)(u.ZP,{container:!0,sx:M,children:(0,a.jsx)(d.Z,{variant:"text",sx:{ml:"2%"},children:"กรุณาระบุรายละเอียดเพื่อค้นหา"})}),(0,a.jsx)(u.ZP,{container:!0,sx:{pt:"2%"},children:(0,a.jsx)(u.ZP,{item:!0,xs:12,children:(0,a.jsxs)(j.Z,{direction:"row",justifyContent:"center",py:2,spacing:2,children:[(0,a.jsx)(x.Z,{id:"Province",options:O,onChange:na,getOptionLabel:function(n){return n.PROVINCE_NAME_TH},value:v,sx:{width:"50%"},renderInput:function(n){return(0,a.jsx)(h.Z,(0,o.Z)((0,s.Z)({},n),{label:(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{variant:"text",children:"จังหวัด"}),(0,a.jsx)(d.Z,{variant:"text",color:"#d50000",children:" *"})]}),size:"small",error:$}))}}),(0,a.jsxs)(p.Z,{onClick:nx,variant:"contained",size:"small",children:[(0,a.jsx)(I.Z,{}),"ค้นหา"]}),(0,a.jsxs)(p.Z,{variant:"contained",color:"error",size:"small",children:[(0,a.jsx)(b.Z,{}),"ล้างค่า"]})]})})})]}),(0,a.jsxs)(u.ZP,{xs:12,sx:N,children:[(0,a.jsxs)(u.ZP,{container:!0,sx:M,children:[(0,a.jsx)(E.Z,{})," ","บันทึกวันที่ (ถ้ายังไม่ได้กำหนด หรือต้องการแก้ไข)"]}),(0,a.jsx)(u.ZP,{container:!0,children:(0,a.jsx)(u.ZP,{item:!0,xs:12,py:2,px:3,children:(0,a.jsxs)(j.Z,{direction:"row",justifyContent:"center",spacing:5,children:[(0,a.jsx)(R._,{dateAdapter:w.y,locale:m(),children:(0,a.jsx)(A.O,{openTo:"year",inputFormat:"DD MMMM YYYY",disableMaskedInput:!0,views:["year","month","day"],label:"เมื่อวันที่",value:k,error:null==k,onChange:nl,renderInput:function(n){return(0,a.jsx)(h.Z,(0,o.Z)((0,s.Z)((0,o.Z)((0,s.Z)({},n),{id:"bootstrap-input"}),n),{size:"small",fullWidth:!0,error:nt}))}})}),(0,a.jsx)(R._,{dateAdapter:w.y,locale:m(),children:(0,a.jsx)(A.O,{openTo:"year",inputFormat:"DD MMMM YYYY",disableMaskedInput:!0,views:["year","month","day"],label:"ทั้งนี้ตั้งแต่วันที่",value:W,error:null==W,onChange:nu,renderInput:function(n){return(0,a.jsx)(h.Z,(0,o.Z)((0,s.Z)((0,o.Z)((0,s.Z)({},n),{id:"bootstrap-input"}),n),{size:"small",fullWidth:!0,error:nt}))}})})]})})})]})]}),(0,a.jsx)(u.ZP,{container:!0,sx:{padding:5},children:(0,a.jsx)(u.ZP,{item:!0,xs:12,children:(0,a.jsx)(D.default,{data:t,colum:[{name:"ตัวอย่าง",listname:"DETAIL"},{name:"ชื่อคอนโด",listname:"CONDO_NAME"}],onSelect:nh,add:nj,addname:"อนุมัติลงนามเล่มที่เลือก"})})})]})]})}function Y(n){return n.data,(0,a.jsxs)(u.ZP,{container:!0,children:[(0,a.jsx)(u.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{direction:"row",justifyContent:"center",children:(0,a.jsx)(d.Z,{children:n.data.STATUS_VAL})})}),(0,a.jsx)(u.ZP,{item:!0,xs:12,children:"1"==n.data.ORDER_STATUS&&(0,a.jsx)(j.Z,{direction:"row",justifyContent:"center",children:(0,a.jsx)(Z.Z,{onClick:n.handleDownLoad,children:(0,a.jsx)(O.Z,{color:"error"})})})})]})}function V(n){return(0,a.jsx)(u.ZP,{container:!0,children:(0,a.jsx)(Z.Z,{onClick:n.condo_s_id,children:(0,a.jsx)(g.Z,{color:"success"})})})}},4597:function(n,e,t){t.r(e),t.d(e,{default:function(){return u}});var r=t(5893),s=t(9620),o=t(7745),i=t(5398),c=t(9072),a=t(6779),l=t(5084);function u(n){var e="http://".concat("192.168.41.14/CONDO")+"/report_condo.php?condo_s_id="+n.condoSID;return console.log(e,"urlurlurl"),(0,r.jsx)("div",{children:(0,r.jsxs)(s.Z,{open:n.open,maxWidth:"xl",fullWidth:!0,children:[(0,r.jsx)(o.Z,{children:"ตัวอย่าง"}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(c.ZP,{container:!0,children:(0,r.jsx)(c.ZP,{item:!0,xs:12,children:(0,r.jsx)(c.ZP,{container:!0,justifyContent:"center",children:(0,r.jsx)(c.ZP,{item:!0,xs:12,sx:{height:"calc(100vh - 150px)",width:"100%",overflow:"hidden"},children:(0,r.jsx)("object",{id:"print",data:e,width:"100%",height:"100%"})})})})})}),(0,r.jsx)(a.Z,{children:(0,r.jsx)(l.Z,{variant:"contained",color:"error",onClick:n.onclose,children:"ปิด"})})]})})}t(7294)}}]);