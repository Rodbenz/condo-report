"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{3564:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r=t(7568),s=t(1799),o=t(9396),i=t(828),a=t(655),c=t(5893),l=t(1953),u=t(9072),d=t(9630),x=t(612),h=t(4870),p=t(5084),Z=t(562),f=t(9211),j=t(7294),_=t(6388),S=t.n(_);function g(){return(g=(0,r.Z)(function(){var n,e,t;return(0,a.__generator)(this,function(e){switch(e.label){case 0:n="/api/mas/province/masProvince",e.label=1;case 1:return e.trys.push([1,3,,4]),[4,S().get(n)];case 2:return[2,e.sent().data];case 3:return e.sent(),[2,!1];case 4:return[2]}})})).apply(this,arguments)}var D=t(9354),O=t(2665),v=t(1523),m=t(3147),E=t(2019),T=t.n(E),P=t(7484),C=t.n(P),R=t(2359),A=t(7572),b=t(4597),I=t(2761),y=t(3592),w=t(6829),N={marginLeft:10,marginRight:10,borderRadius:"6px",boxShadow:"4px 5px 18px rgba(0, 0, 0, 0.25)",mt:"3%",maxwidth:"1200px"},M={marginLeft:60,marginRight:60,borderRadius:"6px",boxShadow:"4px 5px 18px rgba(0, 0, 0, 0.25)",mt:"3%",maxwidth:"1200px"},L={bgcolor:"#006E61",padding:"1%",color:"white",borderTopLeftRadius:"6px",borderTopRightRadius:"6px"};function Y(){var n,e=(0,i.Z)(j.useState([]),2),t=e[0],Z=e[1],_=(0,i.Z)(j.useState([]),2),O=_[0],v=_[1],E=(0,i.Z)(j.useState(null),2),P=E[0],Y=E[1],k=(0,i.Z)(j.useState(null),2),B=k[0],z=k[1],W=(0,i.Z)(j.useState(null),2),H=W[0],G=W[1],F=(0,i.Z)(j.useState(null),2),X=F[0],q=F[1],J=(0,i.Z)(j.useState([]),2),K=J[0],Q=J[1],$=(0,i.Z)(j.useState(!1),2),nn=$[0],ne=$[1],nt=(0,i.Z)(j.useState(!1),2),nr=nt[0],ns=nt[1],no=(0,i.Z)(j.useState(C()("2014-08-18T21:11:54")),2);no[0],no[1];var ni,na,nc=(n=(0,r.Z)(function(){var n,e;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,function(){return g.apply(this,arguments)}()];case 1:return n=t.sent(),console.log(n,"_resMasProvince"),[4,v(n)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.log(e),[3,4];case 4:return[2]}})}),function(){return n.apply(this,arguments)}),nl=function(n,e){console.log(e),Y(e),ne(!1)},nu=function(n){z(n),ns(!1)},nd=function(n){G(n),ns(!1)},nx=(ni=(0,r.Z)(function(n){var e,t,r,s,o,i;return(0,a.__generator)(this,function(r){switch(r.label){case 0:e="".concat("http://192.168.41.123:8093","/condo/condoExportByProvinceId"),r.label=1;case 1:return r.trys.push([1,4,,5]),t=function(n){var e=s[n];e.STATUS_VAL="","4"==e.ORDER_STATUS&&(e.STATUS_VAL="รอลงนาม"),"2"==e.ORDER_STATUS&&(e.STATUS_VAL="อยู่ระห่วางลงนาม"),"1"==e.ORDER_STATUS&&(e.STATUS_VAL="ลงนามเรียบร้อยแล้ว");var t=(0,c.jsx)(V,{handleDownLoad:function(){return n_(e)},data:e}),r=(0,c.jsx)(U,{condo_s_id:function(){return nZ(e.CONDO_S_ID)}});e.action=t,e.DETAIL=r,o.push(e)},[4,S().post(e,n)];case 2:for(var a in s=r.sent().data,console.log(s,"sel_condoExportByProvinceId"),o=[],s)t(a);return[4,Z(o)];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),console.log(i),[3,5];case 5:return[2]}})}),function(n){return ni.apply(this,arguments)}),nh=function(){var n={};if(null!=P)n.PROVINCE_ID=P.PROVINCE_ID;else{n.PROVINCE_ID=null,ne(!0);return}nx(n)},np=function(n){console.log(n,"handleOnSelect"),Q(n)},nZ=function(n){q(n)},nf=function(){q(null)},nj=function(){if(null==B)return ns(!0),!1;nS()},n_=function(n){if(console.log(n),null!=n){var e="http://reportassessprice.treasury.go.th/"+(n.EXPORT_ADDRESS+n.EXPORT_NAME).replace(/\\/g,"/");console.log(e),window.open(e)}},nS=(na=(0,r.Z)(function(){var n,e,t,r,s,o,i,c,l;return(0,a.__generator)(this,function(i){switch(i.label){case 0:for(e in n=[],K)n.push(e);t=0,i.label=1;case 1:if(!(t<n.length))return[3,6];r=n[t],s={CHANGWAT_CODE:P.PROVINCE_ID,BRANCH_CODE:K[r].BRANCH,PERIODS_ID:"7",CONDO_S_ID:K[r].CONDO_S_ID,REGIST_NO:K[r].REGIST_NO,CONDO_NAME:K[r].CONDO_NAME,ORDER_TYPE:"1",ORDER_STATUS:"4",CREATE_BY:"1111111111",PUBLIC_DATE:C()(B).format("YYYY-MM-DD")},i.label=2;case 2:return i.trys.push([2,4,,5]),o="".concat("http://192.168.41.123:8093","/condo/insOrderVal"),[4,S().post(o,s)];case 3:return c=i.sent().data,console.log(c,"req_insOrderVal"),nx(),[3,5];case 4:return l=i.sent(),console.log(l),[3,5];case 5:return t++,[3,1];case 6:return[2]}})}),function(){return na.apply(this,arguments)});return j.useEffect(function(){nc()},[]),(0,c.jsxs)("div",{children:[X&&(0,c.jsx)(b.default,{condoSID:X,open:null!==X,onclose:nf}),(0,c.jsxs)(l.Z,{children:[(0,c.jsxs)(u.ZP,{container:!0,children:[(0,c.jsxs)(u.ZP,{item:!0,xs:12,sx:N,children:[(0,c.jsx)(u.ZP,{container:!0,sx:L,children:(0,c.jsx)(d.Z,{variant:"text",sx:{ml:"2%"},children:"กรุณาระบุรายละเอียดเพื่อค้นหา"})}),(0,c.jsx)(u.ZP,{container:!0,sx:{pt:"2%"},children:(0,c.jsx)(u.ZP,{item:!0,xs:12,children:(0,c.jsxs)(f.Z,{direction:"row",justifyContent:"center",py:2,spacing:2,children:[(0,c.jsx)(x.Z,{id:"Province",options:O,onChange:nl,getOptionLabel:function(n){return n.PROVINCE_NAME_TH},value:P,sx:{width:"50%"},renderInput:function(n){return(0,c.jsx)(h.Z,(0,o.Z)((0,s.Z)({},n),{label:(0,c.jsxs)("div",{children:[(0,c.jsx)(d.Z,{variant:"text",children:"จังหวัด"}),(0,c.jsx)(d.Z,{variant:"text",color:"#d50000",children:" *"})]}),size:"small",error:nn}))}}),(0,c.jsxs)(p.Z,{onClick:nh,variant:"contained",size:"small",children:[(0,c.jsx)(I.Z,{}),"ค้นหา"]}),(0,c.jsxs)(p.Z,{variant:"contained",color:"error",size:"small",children:[(0,c.jsx)(y.Z,{}),"ล้างค่า"]})]})})})]}),(0,c.jsxs)(u.ZP,{xs:12,sx:M,children:[(0,c.jsxs)(u.ZP,{container:!0,sx:L,children:[(0,c.jsx)(m.Z,{})," ","บันทึกวันที่ (ถ้ายังไม่ได้กำหนด หรือต้องการแก้ไข)"]}),(0,c.jsx)(u.ZP,{container:!0,children:(0,c.jsx)(u.ZP,{item:!0,xs:12,py:2,px:3,children:(0,c.jsxs)(f.Z,{direction:"row",justifyContent:"center",spacing:5,children:[(0,c.jsx)(R._,{dateAdapter:w.y,locale:T(),children:(0,c.jsx)(A.O,{openTo:"year",inputFormat:"DD MMMM YYYY",disableMaskedInput:!0,views:["year","month","day"],label:"เมื่อวันที่",value:B,error:null==B,onChange:nu,renderInput:function(n){return(0,c.jsx)(h.Z,(0,o.Z)((0,s.Z)((0,o.Z)((0,s.Z)({},n),{id:"bootstrap-input"}),n),{size:"small",fullWidth:!0,error:nr}))}})}),(0,c.jsx)(R._,{dateAdapter:w.y,locale:T(),children:(0,c.jsx)(A.O,{openTo:"year",inputFormat:"DD MMMM YYYY",disableMaskedInput:!0,views:["year","month","day"],label:"ทั้งนี้ตั้งแต่วันที่",value:H,error:null==H,onChange:nd,renderInput:function(n){return(0,c.jsx)(h.Z,(0,o.Z)((0,s.Z)((0,o.Z)((0,s.Z)({},n),{id:"bootstrap-input"}),n),{size:"small",fullWidth:!0,error:nr}))}})})]})})})]})]}),(0,c.jsx)(u.ZP,{container:!0,sx:{padding:5},children:(0,c.jsx)(u.ZP,{item:!0,xs:12,children:(0,c.jsx)(D.default,{data:t,colum:[{name:"ตัวอย่าง",listname:"DETAIL"},{name:"ชื่อคอนโด",listname:"CONDO_NAME"}],onSelect:np,add:nj,addname:"อนุมัติลงนามเล่มที่เลือก"})})})]})]})}function V(n){return n.data,(0,c.jsxs)(u.ZP,{container:!0,children:[(0,c.jsx)(u.ZP,{item:!0,xs:12,children:(0,c.jsx)(f.Z,{direction:"row",justifyContent:"center",children:(0,c.jsx)(d.Z,{children:n.data.STATUS_VAL})})}),(0,c.jsx)(u.ZP,{item:!0,xs:12,children:"1"==n.data.ORDER_STATUS&&(0,c.jsx)(f.Z,{direction:"row",justifyContent:"center",children:(0,c.jsx)(Z.Z,{onClick:n.handleDownLoad,children:(0,c.jsx)(O.Z,{color:"error"})})})})]})}function U(n){return(0,c.jsx)(u.ZP,{container:!0,children:(0,c.jsx)(Z.Z,{onClick:n.condo_s_id,children:(0,c.jsx)(v.Z,{color:"success"})})})}},4597:function(n,e,t){t.r(e),t.d(e,{default:function(){return u}});var r=t(5893),s=t(9620),o=t(7745),i=t(5398),a=t(9072),c=t(6779),l=t(5084);function u(n){var e="http://".concat("192.168.41.14/CONDO")+"/report_condo.php?condo_s_id="+n.condoSID;return console.log(e,"urlurlurl"),(0,r.jsx)("div",{children:(0,r.jsxs)(s.Z,{open:n.open,maxWidth:"xl",fullWidth:!0,children:[(0,r.jsx)(o.Z,{children:"ตัวอย่าง"}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(a.ZP,{container:!0,children:(0,r.jsx)(a.ZP,{item:!0,xs:12,children:(0,r.jsx)(a.ZP,{container:!0,justifyContent:"center",children:(0,r.jsx)(a.ZP,{item:!0,xs:12,sx:{height:"calc(100vh - 150px)",width:"100%",overflow:"hidden"},children:(0,r.jsx)("object",{id:"print",data:e,width:"100%",height:"100%"})})})})})}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(l.Z,{variant:"contained",color:"error",onClick:n.onclose,children:"ปิด"})})]})})}t(7294)}}]);